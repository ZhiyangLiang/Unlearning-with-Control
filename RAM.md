# RAM

#### GA + Maintain (loss):

##### new

##### memorization还没有转成1-x的形式

##### opt1.3b-Forget1:

|      | Forget Quality        | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ---- | --------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| -0.1 | 0.054141077480362725, | 0.7627613717678096   | 0.7505481957115968 | 0.9054762912180419  | 0.2515467470732716   | 0.14753753954994328  |
| -0.2 | 0.02860307028023343,  | 0.7276750492491577   | 0.7470432737310627 | 0.8134371423129585  | 0.6033854160853693   | 0.13144482128141796  |
| -0.5 | 0.2656871402817289    | 0.731079243048446    | 0.7271191899926968 | 0.6273061349853569  | 0.74558264           | 0.11290228           |
| -1   | 0.16497269950224194   | 0.7148570115454848   | 0.7482111619287282 | 0.470092142572829   | 0.844933             | 0.10967648           |
| -2*  | 0.7659314523482239    | 0.7150692351297813   | 0.734277432572172  | 0.45863167838561686 | 0.93870936           | 0.13886587           |
| -5   | 0.09707484379785862   | 1.1068545009531756   | 0.7554540197848713 | 0.34816614533725937 | 0.99083279           | 0.17306299           |
| -10  | 0.0003037979589157969 | 0.6950370581584698   | 0.7478255806532924 | 0.14215722764157496 | 1.0                  | 0.14037280698368876  |
| -20  | 0.0009013637775216638 | 0.6566010646629467   | 0.7523417232286491 | 0.32619047346201824 | 1.0                  | 0.15249401910490087  |
| -50  | 0.01430154804770646,  | 0.5498378843590233   | 0.7523779873702199 | 0.24999999781250004 | 1.0                  | 0.14157214527980125  |

##### new

##### memorization还没有转成1-x的形式

##### opt1.3b-Forget5

|      | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge                | Memorization(Forget) | Memorization(Retain) |
| ---- | ----------------------- | -------------------- | ------------------ | -------------------- | -------------------- | -------------------- |
| -0.1 | 4.6128382074998843e-07, | 0.7830559930982305   | 0.749339034146774  | 0.9054824123110367   | 0.28602129358214884  | 0.03194444444444445  |
| -0.2 | 1.4639479233432268e-07, | 0.7501340705555288   | 0.7264423647081287 | 0.7059553785689048   | 0.5568829271160587   | 0.05794444444444445  |
| -0.5 | 6.734842895808746e-06,  | 0.7813132016217422   | 0.7496342080436876 | 0.631309061972913    | 0.681021052531251    | 0.038904151404151405 |
| -1   | 1.8266119303942767e-05, | 0.7315159475300498   | 0.7503807007925258 | 0.48968729986260157  | 0.7926768771934947   | 0.05618131868131867  |
| -2*  | 0.0220923622208589,     | 0.6866462860685968   | 0.7458363871806294 | 0.4107620691622663   | 0.8779533460854587   | 0.05064133089133088  |
| -5   | 0.0220923622208589,     | 0.6838595675264872   | 0.7482478871498229 | 0.045997635895269076 | 1.0                  | 0.03391369047619048  |
| -10  | 3.602472544567432e-09,  | 0.6919016253204251   | 0.7465799097818124 | 0.15390815184615989  | 1.0                  | 0.01825396825396825  |
| -20  | 0.0001183661896190048,  | 0.6931471805599453   | 0.7492752233071744 | 0.0                  | 1.0                  | 0.05551828541792152  |
| -50  | 0.0004306111484986726,  | 0.6931471805599453   | 0.74996815741119   | 0.0                  | 1.0                  | 0.06694520757020757  |

##### new

##### memorization还没有转成1-x的形式

##### opt1.3b-Forget10

|      | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ---- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| -0.1 | 6.027592497096867e-11,  | 0.691799094649154    | 0.7267678857607567 | 0.9388533827321293  | 0.16632807611912637  | 0.021061320754716985 |
| -0.2 | 4.2606809322061477e-10, | 0.6880354643620097   | 0.7264402685941069 | 0.7641001524112873  | 0.5040961935332752   | 0.01111111111111111  |
| -0.5 | 1.0655053900451827e-08, | 0.6920907282798896   | 0.7254055935169597 | 0.5199435468917784  | 0.7129986412533773   | 0.024528301886792454 |
| -1   | 1.3711905167668337e-07, | 0.6894995574063402   | 0.7278570069243    | 0.4449138825618017  | 0.8559969022441918   | 0.032653301886792455 |
| -2*  | 1.4629553806612078e-06, | 0.67796464315711     | 0.7282368350395682 | 0.3788007724357335  | 0.9970588235294118   | 0.04589371980676328  |
| -5   | 6.784754222980868e-07   | 0.7327553372316624   | 0.728221978860653  | 0.23525090645168714 | 1.0                  | 0.04669811320754717  |
| -10  | 5.34636928532388e-32,   | 0.6934665219785904   | 0.7270582501808673 | 0.0                 | 1.0                  | 0.03836477987421384  |
| -20  | 1.0229984068189572e-13, | 0.7180744751588125   | 0.7268521590256296 | 0.24999999781250004 | 1.0                  | 0.041194968553459124 |
| -50  | 9.074891594369707e-08,  | 0.7180677796177443   | 0.7287734199670287 | 0.24999999781250004 | 1.0                  | 0.013941299790356392 |

##### new

##### memorization还没有转成1-x的形式

##### opt2.7b-Forget1

|      | Forget Quality        | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ---- | --------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| -0.1 | 0.006760732303569208, | 0.7666861275721554   | 0.7305362221023044 | 0.9235509595318296  | 0.23884014433511092  | 0.05468177171665545  |
| -0.2 | 0.01430154804770646,  | 0.7864922606624142   | 0.7297854515108502 | 0.8523820579023301  | 0.5015970230564814   | 0.06942686975587112  |
| -0.5 | 0.02860307028023343   | 0.7509827108658795   | 0.7287086580078196 | 0.7289087174634631  | 0.6320145534011742   | 0.0789241959590797   |
| -1   | 0.09707484379785862   | 0.7119564931290501   | 0.7262850033978475 | 0.5538829213382905  | 0.7764796808951065   | 0.06349129552617926  |
| -2   | 0.5786001416508443    | 0.6943731970320733   | 0.7284094617134442 | 0.4527267966347751  | 0.8639117432899559   | 0.05723110223110224  |
| -5   | 0.01430154804770646   | 0.8878478306044855   | 0.726849315863126  | 0.32910990387472433 | 0.9540425933811252   | 0.07144750598238972  |
| -10  | 0.01430154804770646,  | 0.6402650374125067   | 0.7293868474056268 | 0.16470753885940673 | 1.0                  | 0.052245874280758    |
| -20  | 0.006760732303569208, | 0.6753998041445824   | 0.726560519097907  | 0.08510540021147862 | 1.0                  | 0.055844020320764506 |
| -50  | 0.16497269950224194,  | 0.693147180559945    | 0.7297085909659959 | 0.18181818016528925 | 1.0                  | 0.05137174840663213  |

##### new

##### memorization还没有转成1-x的形式

##### opt2.7b-Forget5

|      | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge                | Memorization(Forget) | Memorization(Retain) |
| ---- | ----------------------- | -------------------- | ------------------ | -------------------- | -------------------- | -------------------- |
| -0.1 | 1.8266119303942767e-05, | 0.7851986338612698   | 0.7265997031657287 | 0.7970447257930415   | 0.3242009778899292   | 0.06526973401973402  |
| -0.2 | 4.024806511439489e-06,  | 0.7776419378503849   | 0.7271940709283048 | 0.7249133726960317   | 0.47094902926042187  | 0.07270216645216646  |
| -0.5 | 8.056669472003223e-07,  | 0.7359886635866895   | 0.7297795764944668 | 0.6240347288018692   | 0.7200537684717089   | 0.047702166452166454 |
| -1   | 0.0001183661896190048,  | 0.7929881593654311   | 0.7294325354374671 | 0.5699122757034278   | 0.7473992774411538   | 0.03802150364650365  |
| -2   | 0.03956202584899502,    | 0.6977204155077454   | 0.7295050408375245 | 0.4319985935181571   | 0.8951154705617587   | 0.04815663878163878  |
| -5   | 0.06801920461119272,    | 0.753200286039813    | 0.7293351575010262 | 0.39433813550149555  | 1.0                  | 0.02727854915354915  |
| -10  | 3.0799540915748314e-12, | 0.6937609706864064   | 0.7282704977143972 | 0.0                  | 1.0                  | 0.02575075075075075  |
| -20  | 5.616971116352186e-17,  | 0.6931471805599453   | 0.7300721739413047 | 0.062310605401818264 | 1.0                  | 0.043607893607893605 |
| -50  | 4.448673570292354e-08,  | 0.6931471805599453   | 0.7281894273532218 | 0.0                  | 1.0                  | 0.038922404547404546 |

##### new

##### memorization还没有转成1-x的形式

##### opt2.7b-Forget10

|      | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ---- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| -0.1 | 1.0973970510505411e-09, | 0.6945591563460388   | 0.728173646441149  | 0.7534149387956585  | 0.7998153787912016   | 0.019696969696969695 |
| -0.2 | 4.360395687512671e-09,  | 0.6876687827910772   | 0.7292070483051597 | 0.7865469980231081  | 0.5238780529139848   | 0.01011904761904762  |
| -0.5 | 1.652551353350331e-08,  | 0.6873399021159415   | 0.7290599846334158 | 0.5828951588848234  | 0.6140405888967423   | 0.008620689655172414 |
| -1   | 6.85594912218188e-10,   | 0.7181611488272316   | 0.7285848572502484 | 0.4032157205775369  | 0.900051922137352    | 0.022751124437781108 |
| -2   | 2.5496506594547965e-08, | 0.6983468249673301   | 0.7292828913268157 | 0.3990546256440176  | 1.0                  | 0.012008807588075881 |
| -5   | 9.074891594369707e-08,  | 0.7712966385248256   | 0.7291039948893482 | 0.12492423983298218 | 1.0                  | 0.018319194061505832 |
| -10  | 2.0132797133922014e-23  | 0.6931471805599453   | 0.7279947738511702 | 0.0                 | 1.0                  | 0.030758807588075882 |
| -20  | 8.969123776103959e-23   | 0.6902815612513434   | 0.7276878425732777 | 0.13858517415868948 | 1.0                  | 0.0396875            |
| -50  | 5.805666105234786e-14,  | 0.7094826372360241   | 0.7288901430104925 | 0.09523809433106578 | 1.0                  | 0.023713699494949496 |

##### 

### Main Experiment

##### new

#### opt1.3b-Forget1:

|             | Forget Quality        | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | --------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 6.608193292756245e-06 | 0.693147180559945    | 0.6931471805599453 | 0.0                 | 0.0                  | 0.0                  |
| Grad diff   | 6.608193292756245e-06 | 0.5498378843590233   | 0.7465495839976087 | 0.24999999781250004 | 0.0                  | 0.81103143           |
| KL          | 0.0012708143485281624 | 0.6610674633409265   | 0.7609049833443332 | 0.24999999781250004 | 0.0                  | 0.71538278           |
| DPO         | 0.09707484379785862   | 0.8591469091777199   | 0.7257980359449863 | 0.14312168971982872 | 0.61688802           | 0.84878491           |

##### new

#### opt1.3b-Forget5:

|             | Forget Quality         | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | ---------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 8.832345232887228e-21, | 0.6931471805599453   | 0.6931471805599453 | 0.0                 | 0.0                  | 0.0                  |
| Grad diff   | 5.616971116352186e-17, | 0.6931471805599453   | 0.747953385188558  | 0.0                 | 0.0                  | 0.92497092           |
| KL          | 2.231131384195642e-17, | 0.6931471805599453   | 0.751266155560306  | 0.0                 | 0.0                  | 0.84888303           |
| DPO         | 8.114129962716335e-08, | 0.6731633398906058   | 0.749681098098859  | 0.14499999679501988 | 0.68438651           | 0.9075596            |

##### new

#### opt1.3b-Forget10:

|             | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 1.2200783565230283e-41, | 0.6931471805599453   | 0.6931471805599453 | 0.0                 | 0.0                  | 0.0                  |
| Grad diff   | 3.2276423693844506e-50, | 0.7180677796177443   | 0.7462597654362866 | 0.24999999781250004 | 0.0                  | 0.96183995           |
| KL          | 1.0091011547941493e-48, | 0.6931471805599453   | 0.7500799991888758 | 0.0                 | 0.0                  | 0.82100263           |
| DPO         | 4.2606809322061477e-10, | 0.6884131057931836   | 0.7271602151371671 | 0.14357142544716842 | 0.54155719           | 0.97830189           |

##### new

#### opt2.7b-Forget1:

|             | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 1.8880552265017844e-06, | 0.6610674633409265   | 0.7508670911284935 | 0.24999999781250004 | 0.0                  | 0.0                  |
| Grad diff   | 2.156357811320459e-05,  | 0.693147180559945    | 0.7294328834088425 | 0.11882783579192002 | 0.0                  | 0.92320542           |
| KL          | 0.0005039436209702519,  | 0.693147180559945    | 0.7299113264238537 | 0.0                 | 0.0                  | 0.86586525           |
| DPO         | 0.054141077480362725,   | 0.8201217146772888   | 0.7282408014163347 | 0.14571428239055564 | 0.6800422            | 0.89960284           |

##### new

#### opt2.7b-Forget5:

|             | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 1.4468852244495245e-23, | 0.6931471805599453   | 0.6931471805599453 | 0.0                 | 0.0                  | 0.0                  |
| Grad diff   | 3.792027469866999e-22,  | 0.6931471805599453   | 0.7263254039219683 | 0.0                 | 0.0                  | 0.93663664           |
| KL          | 1.0971108602139472e-21, | 0.6931471805599453   | 0.728055551968322  | 0.0                 | 0.0                  | 0.91861542           |
| DPO         | 1.8266119303942767e-05, | 0.6928866243898774   | 0.7274396994364196 | 0.14321428261020555 | 0.85148897           | 0.97724359           |

##### new

#### opt2.7b-Forget10:

|             | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ----------- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| Grad ascent | 2.741701384717479e-53,  | 0.6931471805599453   | 0.6931471805599453 | 0.0                 | 0.0                  | 0.0                  |
| Grad diff   | 3.1359758964372024e-48, | 0.6931471805599453   | 0.7283809167305816 | 0.0                 | 0.0                  | 0.9875               |
| KL          | 2.1378989806712975e-55, | 0.6931471805599453   | 0.730015836964799  | 0.0                 | 0.0                  | 0.96849334           |
| DPO         | 2.6338754853638006e-10, | 0.7147988878349423   | 0.7271469658489461 | 0.14999999651250012 | 0.73810688           | 0.95955189           |



#### Early Stop (GA + Maintain) (opt1.3b-Foeget1)

|      | Forget Quality          | Rouge Ratio (Forget) | Rouge Ratio        | Rouge               | Memorization(Forget) | Memorization(Retain) |
| ---- | ----------------------- | -------------------- | ------------------ | ------------------- | -------------------- | -------------------- |
| 10   | 0.054141077480362725,   | 0.936452582873558    | 0.7511417203961804 | 0.7559524402921193  | 0.43544324774475457  | 0.1207966075990912   |
| 20   | 0.16497269950224194,    | 0.7528767443281085   | 0.7527754081623054 | 0.6157469884218439  | 0.7154143319970429   | 0.13144983340554278  |
| 50   | 0.003018184077228396,   | 0.9004895011653897   | 0.7825756017157739 | 0.24934563058536283 | 1.0                  | 0.8748294935171319   |
| 100  | 1.8880552265017844e-06, | 0.693147180559945    | 0.7928409639854817 | 0.03333333309027778 | 1.0                  | 0.5846893290331666   |
| 150  | 6.5768913245274e-05,    | 0.693147180559945    | 0.770990111249212  | 0.0                 | 1.0                  | 0.2931445734923739   |
| 200  | 0.003018184077228396,   | 0.6610674633409265   | 0.7672986074913641 | 0.24999999781250004 | 1.0                  | 0.24622039756515032  |
| 250  | 0.0005039436209702519,  | 0.693147180559945    | 0.7542408094056254 | 0.07142857073979593 | 1.0                  | 0.18711368975682963  |
| 300  | 2.156357811320459e-05,  | 0.693147180559945    | 0.7301160946695916 | 0.0                 | 1.0                  | 0.2526462217409745   |
| 350  | 0.003018184077228396,   | 0.6610674633409265   | 0.7492501670999471 | 0.24999999781250004 | 1.0                  | 0.1814947898395426   |
