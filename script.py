import os

# cmd = f'python evaluate.py --new_model_name=original > original_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned > unlearned_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.95_0.05_100idx > opt1.3b_unlearned_0.95_0.05_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.90_0.10_100idx > opt1.3b_unlearned_0.90_0.10_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.95_0.05_150idx > opt1.3b_unlearned_0.95_0.05_150idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_100idx > opt1.3b_unlearned_0.85_0.15_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_150idx > opt1.3b_unlearned_0.85_0.15_150idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.80_0.20_100idx > opt1.3b_unlearned_0.80_0.20_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=original > original_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned > unlearned_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.90_0.10_100idx > opt1.3b_unlearned_0.90_0.10_100idx_train.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_100idx > opt1.3b_unlearned_0.85_0.15_100idx_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_150idx > opt1.3b_unlearned_0.85_0.15_150idx_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.80_0.20_100idx > opt1.3b_unlearned_0.80_0.20_100idx_train.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_loss > opt1.3b_unlearned_bad_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_random_loss > opt1.3b_unlearned_random_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_normal_loss > opt1.3b_unlearned_normal_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss > opt1.3b_unlearned_bad_random_loss.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-1_masked > opt1.3b_unlearned_bad_random_1e-1_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-2_masked > opt1.3b_unlearned_bad_random_1e-2_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-3_masked > opt1.3b_unlearned_bad_random_1e-3_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-5_masked > opt1.3b_unlearned_bad_random_1e-5_masked.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.3_masked > opt1.3b_unlearned_bad_random_0.3_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked > opt1.3b_unlearned_bad_random_0.6_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.9_masked > opt1.3b_unlearned_bad_random_0.9_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked > opt1.3b_unlearned_bad_random_0.6_masked_new.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.1_masked > opt1.3b_unlearned_bad_random_0.1_masked_new.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.6_masked > opt1.3b_unlearned_bad_0.6_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked_for_random > opt1.3b_unlearned_bad_random_0.6_masked_for_random.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked_for_all > opt1.3b_unlearned_bad_random_0.6_masked_for_all.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.8_masked_reverse > opt1.3b_unlearned_bad_0.8_masked_reverse.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.1_masked > opt1.3b_unlearned_bad_0.1_masked.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.35 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.35_yes'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.5 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.5_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.65 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.65_yes'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.35_yes > opt1.3b_unlearned_attn_0.35_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.5_yes > opt1.3b_unlearned_attn_0.5_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.65_yes > opt1.3b_unlearned_attn_0.65_yes.log'
# print(cmd)
# os.system(cmd)

# default: 150idx; mask = grad_abs < np.percentile(grad_abs.cpu(), 99)
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.85_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_yes > opt1.3b_unlearned_attn_0.85_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=100 --model_save_dir=models/opt1.3b_unlearned_attn_0.85_100idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.90 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_attn_0.90_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99.5 --idx=150 --model_save_dir=models/opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_100idx_mr99_yes > opt1.3b_unlearned_attn_0.85_100idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.90_150idx_mr99_yes > opt1.3b_unlearned_attn_0.90_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes > opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_normal_process > opt1.3b_unlearned_normal_process.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes > opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes > opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_bad_random_loss_fair'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss_fair > opt1.3b_unlearned_bad_random_loss_fair.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_bad_random_loss_fair_wo_mask'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss_fair_wo_mask > opt1.3b_unlearned_bad_random_loss_fair_wo_mask.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate_tofu.py --new_model_name=finetune_opt1.3b_tofu_forget > finetune_opt1.3b_tofu_forget.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate_tofu.py --new_model_name=finetune_opt1.3b_tofu_forget_ga_mismatch > finetune_opt1.3b_tofu_forget_ga_mismatch.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --model_save_dir=models/opt1.3b_unlearned'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --model_save_dir=models/opt1.3b_unlearned_attn'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_2'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_20th'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_15th'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_ga_mismatch_real_authors_original.log --file2=forget1_opt1.3b_tofu_ga_mismatch_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_ga_mismatch_world_facts_original.log --file4=forget1_opt1.3b_tofu_ga_mismatch_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_ga_mismatch_retain_original.log --file2=forget1_opt1.3b_tofu_ga_mismatch_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_ga_mismatch_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=1 --model_save_dir=models/forget1_opt1.3b_tofu_attn_kl_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=0.5 --model_save_dir=models/forget1_opt1.3b_tofu_attn_kl_0.5'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=0 --model_save_dir=models/forget1_opt1.3b_tofu_attn_kl_0'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=1 --model_save_dir=models/forget1_opt1.3b_tofu_attn_l1_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=0.5 --model_save_dir=models/forget1_opt1.3b_tofu_attn_l1_0.5'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --alpha=0 --model_save_dir=models/forget1_opt1.3b_tofu_attn_l1_0'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_faster100'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_faster50'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_faster10'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_faster5'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_ga_mismatch_maintain'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_ga_mismatch_maintain_wo_mask'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_wo_mask'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_maintain_wo_mask'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_ga_mismatch_real_authors_original.log --file2=forget1_opt1.3b_tofu_ga_mismatch_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_ga_mismatch_world_facts_original.log --file4=forget1_opt1.3b_tofu_ga_mismatch_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_ga_mismatch_retain_original.log --file2=forget1_opt1.3b_tofu_ga_mismatch_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_ga_mismatch_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.5 --robust=no --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_new'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.5 --robust=no --mask=yes --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_new'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.5 --robust=yes --mask=yes --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=no --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=no --mask=yes --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=yes --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85'
# print(cmd)
# os.system(cmd)

# ---------------------------------------------------------------

# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_new_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_new_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_new_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_new_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_faster5_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_new_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_maintain_mask_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_robust_new_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_new_thre0.85_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_new_thre0.85_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_new_thre0.85_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_new_thre0.85_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_maintain_wo_mask_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_maintain_wo_mask_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_maintain_wo_mask_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_maintain_wo_mask_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_new_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_new_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_new_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_new_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_new_thre0.85_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_new_thre0.85_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_new_thre0.85_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_new --file1=forget1_opt1.3b_tofu_attn_1_new_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_new_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_new_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new --file1=forget1_opt1.3b_tofu_attn_1_mask_new_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_new_thre0.85 --file1=forget1_opt1.3b_tofu_attn_1_new_thre0.85_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_new_thre0.85_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_new_thre0.85_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85 --file1=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_new_thre0.85_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85 --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_world_facts_sen.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=yes --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_onlyx'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu.py --robust=yes --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_ga_mismatch_maintain_new'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_test2'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask=no --mask_rate=99 --robust_iter=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_test3'
# print(cmd)
# os.system(cmd)

# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_real_authors_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_world_facts_original.log --file4=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_retain_original.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = 'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std --file1=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_world_facts_sen.log'
# print(cmd)
# os.system(cmd)

def myeval(model_name):
    cmd = f'python unlearn_evaluate_utility_tofu.py --file1=forget1_opt1.3b_tofu_{model_name}_real_authors_original.log --file2=forget1_opt1.3b_tofu_{model_name}_real_authors_perturbed.log --file3=forget1_opt1.3b_tofu_{model_name}_world_facts_original.log --file4=forget1_opt1.3b_tofu_{model_name}_world_facts_perturbed.log --model_name=models/forget1_opt1.3b_tofu_{model_name}'
    print(cmd)
    os.system(cmd)

    cmd = f'python unlearn_evaluate_utility_tofu_v2.py --file1=forget1_opt1.3b_tofu_{model_name}_retain_original.log --file2=forget1_opt1.3b_tofu_{model_name}_retain_paraphrased.log --file3=forget1_opt1.3b_tofu_{model_name}_retain_perturbed.log --model_name=models/forget1_opt1.3b_tofu_{model_name}'
    print(cmd)
    os.system(cmd)

    cmd = f'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_{model_name} --file1=forget1_opt1.3b_tofu_{model_name}_real_authors_sen.log --file2=forget1_opt1.3b_tofu_{model_name}_retain_sen.log --file3=forget1_opt1.3b_tofu_{model_name}_world_facts_sen.log'
    print(cmd)
    os.system(cmd)
#
# myeval("attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_test2")
# myeval("attn_1_mask_robust_new_thre0.85_maintain_onlyx_std_test3")

# cmd = f'python unlearn_harm_masked_tofu_ori.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1_ori'
# print(cmd)
# os.system(cmd)

# myeval("attn_1_ori")

# cmd = f'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/forget1_opt1.3b_tofu_attn_1_ori --file1=forget1_opt1.3b_tofu_attn_1_ori_test_real_authors_sen.log --file2=forget1_opt1.3b_tofu_attn_1_ori_test_retain_sen.log --file3=forget1_opt1.3b_tofu_attn_1_ori_test_world_facts_sen.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_evaluate_utility_tofu_v3.py --model_name=models/finetune_opt1.3b_tofu --file1=ground_truth_real_authors_ori_test_sen.log --file2=ground_truth_retain_ori_test_sen.log --file3=ground_truth_world_facts_ori_test_sen.log'
# print(cmd)
# os.system(cmd)

# myeval("attn_1_mask_robust_new_thre0.85_maintain_onlyx")
# myeval("attn_1_mask_robust_new_thre0.85_maintain_onlyx_std")
