import os

# cmd = f'python evaluate.py --new_model_name=original > original_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned > unlearned_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.95_0.05_100idx > opt1.3b_unlearned_0.95_0.05_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.90_0.10_100idx > opt1.3b_unlearned_0.90_0.10_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.95_0.05_150idx > opt1.3b_unlearned_0.95_0.05_150idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_100idx > opt1.3b_unlearned_0.85_0.15_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_150idx > opt1.3b_unlearned_0.85_0.15_150idx_test_normal.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.80_0.20_100idx > opt1.3b_unlearned_0.80_0.20_100idx_test_normal.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=original > original_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned > unlearned_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.90_0.10_100idx > opt1.3b_unlearned_0.90_0.10_100idx_train.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_100idx > opt1.3b_unlearned_0.85_0.15_100idx_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.85_0.15_150idx > opt1.3b_unlearned_0.85_0.15_150idx_train.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_0.80_0.20_100idx > opt1.3b_unlearned_0.80_0.20_100idx_train.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_loss > opt1.3b_unlearned_bad_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_random_loss > opt1.3b_unlearned_random_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_normal_loss > opt1.3b_unlearned_normal_loss.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss > opt1.3b_unlearned_bad_random_loss.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-1_masked > opt1.3b_unlearned_bad_random_1e-1_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-2_masked > opt1.3b_unlearned_bad_random_1e-2_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-3_masked > opt1.3b_unlearned_bad_random_1e-3_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_1e-5_masked > opt1.3b_unlearned_bad_random_1e-5_masked.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.3_masked > opt1.3b_unlearned_bad_random_0.3_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked > opt1.3b_unlearned_bad_random_0.6_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.9_masked > opt1.3b_unlearned_bad_random_0.9_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked > opt1.3b_unlearned_bad_random_0.6_masked_new.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.1_masked > opt1.3b_unlearned_bad_random_0.1_masked_new.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.6_masked > opt1.3b_unlearned_bad_0.6_masked.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked_for_random > opt1.3b_unlearned_bad_random_0.6_masked_for_random.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_0.6_masked_for_all > opt1.3b_unlearned_bad_random_0.6_masked_for_all.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.8_masked_reverse > opt1.3b_unlearned_bad_0.8_masked_reverse.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_0.1_masked > opt1.3b_unlearned_bad_0.1_masked.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.35 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.35_yes'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.5 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.5_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.65 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.65_yes'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.35_yes > opt1.3b_unlearned_attn_0.35_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.5_yes > opt1.3b_unlearned_attn_0.5_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.65_yes > opt1.3b_unlearned_attn_0.65_yes.log'
# print(cmd)
# os.system(cmd)

# default: 150idx; mask = grad_abs < np.percentile(grad_abs.cpu(), 99)
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --model_save_dir=models/opt1.3b_unlearned_attn_0.85_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_yes > opt1.3b_unlearned_attn_0.85_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=100 --model_save_dir=models/opt1.3b_unlearned_attn_0.85_100idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.90 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_attn_0.90_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99.5 --idx=150 --model_save_dir=models/opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_100idx_mr99_yes > opt1.3b_unlearned_attn_0.85_100idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.90_150idx_mr99_yes > opt1.3b_unlearned_attn_0.90_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes > opt1.3b_unlearned_attn_0.85_150idx_mr99.5_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_normal_process > opt1.3b_unlearned_normal_process.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes > opt1.3b_unlearned_double_attn_0.85_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes > opt1.3b_unlearned_double_0.5w_attn_0.85_150idx_mr99_yes.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_bad_random_loss_fair'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss_fair > opt1.3b_unlearned_bad_random_loss_fair.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/opt1.3b_unlearned_bad_random_loss_fair_wo_mask'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate.py --new_model_name=opt1.3b_unlearned_bad_random_loss_fair_wo_mask > opt1.3b_unlearned_bad_random_loss_fair_wo_mask.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python evaluate_tofu.py --new_model_name=finetune_opt1.3b_tofu_forget > finetune_opt1.3b_tofu_forget.log'
# print(cmd)
# os.system(cmd)
#
# cmd = f'python evaluate_tofu.py --new_model_name=finetune_opt1.3b_tofu_forget_ga_mismatch > finetune_opt1.3b_tofu_forget_ga_mismatch.log'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked.py --model_save_dir=models/opt1.3b_unlearned'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_v2.py --threshold=0.85 --model_save_dir=models/opt1.3b_unlearned_attn'
# print(cmd)
# os.system(cmd)

# cmd = f'python unlearn_harm_masked_tofu.py --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_ga_mismatch'
# print(cmd)
# os.system(cmd)

cmd = f'python unlearn_harm_masked_tofu_v2.py --threshold=0.85 --robust=yes --mask_rate=99 --idx=150 --model_save_dir=models/forget1_opt1.3b_tofu_attn_1'
print(cmd)
os.system(cmd)
